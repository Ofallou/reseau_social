
   <div class="member">
    <mat-card class="card">
        <mat-card-header>
          <mat-card-title>
            {{user.first_name}}
            {{user.last_name}}
                </mat-card-title>
          <mat-card-subtitle>
            {{user.pseudo}}
            <img src=" {{user.picture}}" alt="">
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
        </mat-card-content>
      </mat-card>
      

     
</div>


<div class="friends" >

    <div class="request">
        <form class="example-form" #search="ngForm" >
        <mat-accordion class="example-headers-align">
          <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
            <mat-expansion-panel-header>
          
              <mat-panel-description>
               Recherche
                <mat-icon matTooltip="Recherche de membre" >person</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
        
            <mat-form-field>
              <input matInput placeholder="nom, prenom ou pseudo" name="name" [(ngModel)]="keyword.name" 
              >
              
            </mat-form-field>
            <button type="submit" mat-button color="primary" (click)="searchfriend()" >OK</button>

            <mat-list *ngFor="let member of resultList">
              
                <mat-list-item> 
                 <form class="example-form" >
                    <img src=" {{member.picture}}" alt=""> {{member.first_name}} {{member.pseudo}} 
                    
                    <button matTooltip="Ajouter" type="submit" mat-button (click)="sendInvitationrequest(member._id)" ><i class="material-icons">
                        person_add
                        </i></button>
                  </form>
                 </mat-list-item>
      
               </mat-list>
            
        
            <mat-action-row>
              <button mat-button color="primary" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        
          <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
            <mat-expansion-panel-header>
              
              <mat-panel-description>
                <h4>Liste des membres</h4>
                <mat-icon matTooltip="Liste des membres">people</mat-icon>
                
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-list dense>
                <mat-list-item *ngFor="let member of membersNotFriends">
                    <img src="{{member.picture}}" alt=""> {{member.first_name}} {{member.pseudo}} 
                    <button matTooltip="Ajouter" type="submit" mat-button (click)="sendInvitationrequest(member)" ><i class="material-icons">
                      person_add
                      </i></button>
                </mat-list-item>
            </mat-list>
            

        
        
            <mat-action-row>
              <button mat-button color="warn" (click)="prevStep()">Previous</button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel [hideToggle]="false">
              <mat-expansion-panel-header>
                  <mat-panel-title></mat-panel-title>
                  <mat-panel-description>Liste d'amis </mat-panel-description>
              </mat-expansion-panel-header>

              <mat-list dense>
                  <mat-list-item *ngFor="let friend of friends">
                    <p>
                   
                    
                        <img (click)="onSelect(friend.members)" src="{{friend.members.picture}}" alt="" > {{friend.members.first_name}}  {{friend.members.last_name}} 
                        {{friend.status}} 
                        <span> -  </span>
                      <a *ngIf="friend.status=='invitation en cours' || 'en attente de confirmation'" (click)=cancelInvitation(friend) >
                       <i  matTooltip="Annuler la demande" class="material-icons" >cancel</i></a>  
                      <a (click)=acceptInvitation(friend) *ngIf="friend.status=='en attente de confirmation'">
                          <i  matTooltip="Accepter la demande d'ami" class="material-icons" >check</i>
                      </a>
                    </p>

                    

                  
                
                  </mat-list-item>
              </mat-list>


            </mat-expansion-panel>



        
        
        
        </mat-accordion>
      </form>
      </div>
</div>






<div class="container">
   
    <form class="example-form" #commentF="ngForm" (submit)="posted();commentF.reset()" >
        <mat-form-field>
          <input matInput placeholder="titre du message" name="title" id="titre" [(ngModel)]="comment.title" required >
        </mat-form-field>
         <br>
        <mat-form-field class="example-full-width">
          <textarea matInput placeholder="Poster un commentaire......" name="comment" [(ngModel)]="comment.content"></textarea>
        </mat-form-field>
         <br>
        <button type="submit" mat-mini-fab color="accent" [disabled]="!commentF.form.valid">Poster
     
        </button>
  
    </form>




  
  <mat-card class="example-card" *ngFor="let comment of userComment">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image">
        <img src="{{comment.authorPicture}}" style="width: 46px;" alt="">
      </div>
      <mat-card-title>{{comment.author }} </mat-card-title>
      <mat-card-subtitle> Posté le  {{ comment.date| date:'dd-MM-yyyy à HH:mm' }}</mat-card-subtitle>
    </mat-card-header>
    <h4> {{comment.title}}</h4>
   
    <mat-card-content>
      <p>
        {{comment.content}}
      </p>
    </mat-card-content>
   
  </mat-card>
</div>